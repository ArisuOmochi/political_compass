<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>波兰球政治罗盘测试 Polcompball Political Test</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- Start Screen -->
        <section id="start-screen" class="screen active">
            <h1>波兰球政治罗盘测试</h1>
            <p>基于 Polcompball 的动态实时政治光谱测试</p>
            <p class="instruction">请选择你的代表形象 (Emoji):</p>
            <div id="emoji-selector" class="emoji-grid">
                <!-- Emojis will be injected by JS -->
            </div>
            <button id="start-btn" disabled>开始测试</button>
        </section>

        <!-- Quiz Screen -->
        <section id="quiz-screen" class="screen hidden">
            <div class="map-container">
                <div id="map-viewport">
                    <div id="map-content">
                        <!-- The map image will be set as background here -->
                        <img src="compass.jpg" alt="Political Compass Map" id="map-image" onerror="this.style.display='none'; this.parentElement.style.backgroundColor='#eee';">
                        <div id="player-marker">📍</div>
                    </div>
                </div>
                <div class="map-controls">
                    <button id="zoom-in">+</button>
                    <button id="zoom-out">-</button>
                    <button id="reset-view">📍</button>
                </div>
            </div>

            <div class="question-container">
                <div class="progress-bar">
                    <div id="progress-fill"></div>
                </div>
                <h2 id="question-text">Loading...</h2>
                <div id="answers-list" class="answers-grid">
                    <!-- Answers injected by JS -->
                </div>
                
                <div class="quiz-controls" style="margin-top: 20px; display: flex; gap: 10px; width: 100%; max-width: 600px; justify-content: space-between;">
                    <button id="prev-btn" style="background: #95a5a6;" disabled>⬅️ 上一题</button>
                    
                    <div class="special-actions">
                        <button id="end-early-btn" class="hidden" style="background: #2ecc71;">🏁 提前结束</button>
                        <button id="extreme-mode-btn" class="hidden" style="background: #e74c3c;">🔥 进入极端模式</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Result Screen -->
        <section id="result-screen" class="screen hidden">
            <div class="result-header">
                <h2>测试结果</h2>
                <p>你的意识形态倾向是：</p>
                <h1 id="result-ideology-name">Loading...</h1>
                <div class="result-ball-container">
                    <div id="result-ball-image"></div>
                </div>
            </div>
            
            <div class="result-content">
                <div class="result-card">
                    <h3>📜 介绍</h3>
                    <p id="result-desc">...</p>
                </div>
                
                <div class="result-card">
                    <h3>👥 代表人物</h3>
                    <ul id="result-people"></ul>
                </div>

                <div class="result-card">
                    <h3>📚 推荐书籍</h3>
                    <ul id="result-books"></ul>
                </div>

                <div class="result-card">
                    <h3>💬 名言</h3>
                    <div id="result-quotes"></div>
                </div>
            </div>
            
            <button onclick="location.reload()">重新测试</button>
        </section>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>